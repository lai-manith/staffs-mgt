<mat-card class="mat-elevation-z0 filter-card without-create grid gap-16 col-sm-2 bg-grey mb-16 border">

  <div class="filter-box">
    <button mat-stroked-button [matMenuTriggerFor]="menu" class="bg-white rounded-md py-2" *ngIf="hide !== 'filter'">
      <mat-icon [matBadge]="filterSet.size || null" svgIcon="filter" matPrefix class="filter-icon"></mat-icon>
      <span class="px-8">ស្រង់តាម</span>
      <mat-icon matSuffix>expand_more</mat-icon>
    </button>
    <mat-menu #menu class="menu-filter-panel">
      <div class="menu-filter-header">
        <b>ស្រង់តាម</b>
        <span *ngIf="filterSet.size" (click)="reset(); $event.stopPropagation()" class="menu-filter-panel__clear">លុបចេញ​ទាំងអស់</span>
      </div>
      <div class="grid gap-x-16 col-md-2 col-lg-2 col-xl-2" (click)="$event.stopPropagation()" (keyup)="null">
        <div *ngFor="let option of filters;" class="mt-8">
          <label for="">{{option.labelFunc | titlecase}}</label>
          <mat-form-field appearance="outline">
            <mat-icon [svgIcon]="option.svgIcon" matPrefix class="filter-icon">{{option.matIcon}}</mat-icon>
            <mat-select [(value)]="option.selectedValue" (selectionChange)="onFilter(option, $event.value);" #select>
              <mat-select-trigger>
                <span>{{option?.selectedValue?.label}}</span>
              </mat-select-trigger>
              <mat-option *ngFor="let item of option.data" [value]="item">{{item?.label}}</mat-option>
            </mat-select>
            <mat-icon matSuffix>expand_more</mat-icon>
          </mat-form-field>
        </div>
      </div>
    </mat-menu>
  </div>

  <div class="holiday-container" *ngIf="hasYearPicker">
    <!-- *Calendar Title Header -->
    <div class="calendar-header group-btn">
      <div class="holiday-container__btn-group calendar-button">
        <button class="btn-sm date-back" mat-stroked-button (click)="onPrevDate()" #tooltip="matTooltip"
          matTooltip="Previous Month" matTooltipPosition="left">
          <mat-icon>chevron_left</mat-icon>
        </button>

        <button class="date-today" mat-stroked-button mwlCalendarToday (click)="dp.open();">
          {{ date.value | date: 'MMMM yyyy' }}
          <div class="hidden">
            <input matInput [matDatepicker]="dp" readonly [formControl]="date">
            <mat-datepicker-toggle matSuffix [for]="dp"></mat-datepicker-toggle>
            <mat-datepicker #dp startView="multi-year" (monthSelected)="onDateChange($event, dp)"
              panelClass="example-month-picker">
            </mat-datepicker>
          </div>
        </button>

        <button class="btn-sm date-forward" mat-stroked-button mwlCalendarNextView (click)="onNextDate()" #tooltip="matTooltip"
          matTooltip="Next Month" matTooltipPosition="right">
          <mat-icon>navigate_next</mat-icon>
        </button>
      </div>
    </div>
  </div>

  <div class="search-box" *ngIf="hide !== 'search'">
    <mat-form-field appearance="outline">
      <input matInput type="text" #searchQuery (keyup)="search(searchQuery.value)" placeholder="ស្វែងរក...">
      <mat-icon svgIcon="search" matPrefix></mat-icon>
      <button *ngIf="searchQuery.value" mat-icon-button matSuffix (click)="searchQuery.value = ''; clear()">
        <mat-icon>clear</mat-icon>
      </button>
    </mat-form-field>
  </div>
</mat-card>
